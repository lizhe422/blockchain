# 玩转区块链，搞定密码学、分布式、共识机制和P2P网络即可

## 密码学————区块链的起源

**1.哈希**

哈希也称散列算法，摘要，是对一段数据进行加密计算，形成一个定长点字符串，由于哈希可以代表一段数据的唯一特征，有点类似人类的指纹，所以哈希也常称为数字指纹。

区块链是基于哈希指针构建的一个有序的，反向链接的交易块链表。

由于每个区块都包含了大量的交易数据，随着时间的增长，区块的高度不断增加，导致交易信息查找变得异常低效，因此，区块链中采用了默克尔树对方式来组织区块内的交易数据。

默克尔树是一种二叉树数据结构，它的叶子是数据块，非叶子结点是两个子节点的哈希。一个默克尔树是自下而上构建点，通过计算两个节点的哈希值，直到头部只有一个默克尔树。

区块链中，这种数据结构的特点是通过数学算法，可以非常方便点验证区块中的交易数据。

**2.对称加密**

对称加密的加密密钥喝解密密钥是相同的。由于对称加密使用了相同的加密密钥对数据进行加密，因此加密效率非常高。

常用的加密算法有DES、AES、SM4.

**3.非对称加密**

非对称加密是由椭圆曲线算法生成的一堆公私钥对组成，公钥对外公开，任何人都可以获取，私钥自己持有，不能给任何人看。

由于公钥是对外公开的，我们可以用接收者的公钥进行加密，只有持有公钥对应私钥的人才能进行数据解密。反过来，如果使用自己的私钥对数据加密，用公钥进行解密，我们称为签名。

由于私钥是自己持有的，公钥是对外公开的，因此采用私钥加密公钥解密的方式，可以验证身份的唯一性，确定某段数据得到某个特定组织、个人的认可，或者确定某段数据由某个组织、个人持有。

常用的算法有RSA、SM2.

**4.数字信封技术**

数字信封技术是用对称加密算法对明文数据进行加密，用非对称加密算法对对称密钥进行加密。这样既可以提升加密效率，又可以有效保护数据安全。

数字信封技术主要包括数字✉️信封打包喝数字信封拆解两个过程。数字信封打包指的是信息发送方采用对称密钥加密信息原文，然后使用接收方公钥加密对称密钥，之后将密钥和密文一起发送给接收方；
数字信封拆解指的是，接收方先用对应的私钥打开数字信封，得到对称密钥，然后使用对称密钥解开加密信息得到明文数据。
